var PRESSTAKE_BANNER_CORE={init:function(e){e?PRESSTAKE_BANNER_CORE.CONTROLLERS.INIT_CONTROLLER.init_config(e):PRESSTAKE_BANNER_CORE.CONTROLLERS.INIT_CONTROLLER.init_config(),PRESSTAKE_BANNER_CORE.CONTROLLERS.INIT_CONTROLLER.init_banner()},CONFIG:{bannerClasses:["pt-banner-gadgets","pt-banner-books","pt-banner-clothes_shop","pt-banner-films","pt-banner-games","pt-banner-gadgets"],status:{STATUS_OK:1,STATUS_DATA_LOADING:2,STATUS_NO_DATA:3},URL:{TARGET_URL:"presstake.com/",PASRSE_URL:"bpage/banner.php",APPS_URL:"banner/index.php",STAT_URL:"stat/index.php",SUBSCRIBE_URL:"subscribe/index.php",UNSUBSCRIBE_URL:"subscribe/index.php",TRACKING_URL:"tracking/index.php",CSS_URL:"banner-client/css/presstake-banner.css",JS_URL:"banner-client/js/presstake-banner.js"},loaderID:"presstake-banner-loader",bannerSpaceID:"prestake-banner",appListStatus:0,pageStatus:0,repeatTimeout:3e4,repeatCounter:3,debag:!0,debagList:[]},CONTROLLERS:{INIT_CONTROLLER:{init_content:function(){var e=PRESSTAKE_BANNER_CORE.CONTROLLERS.VIEW_CONTROLLER,n=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL,t=PRESSTAKE_BANNER_CORE.CONFIG;e.createCss(),e.create_banner(),n.zoomEvent(),n.scrollEvent(),e.addWindowScrollEvent(),e.addBannerListTouchStartEvent(),e.addBannerListTouchMoveEvent(),e.addBannerListMouseDownEvent(),e.addDocumentMouseMoveEvent(),e.addDocumentMouseUpEvent(),e.addWindowScrollLeftEvent(),e.addWindowZoomEvent(),e.addBannerMainFirstEvent(),e.addBannerMainCloseButtonEvent(),e.addBannerListCloseButtonEvent(),"desktop"==t.device&&e.addBannerListScrollEvent()},init_banner:function(){var e=PRESSTAKE_BANNER_CORE.CONTROLLERS.LOAD_CONTROLLER;PRESSTAKE_BANNER_CORE.CONFIG;e.loadPage()},init_config:function(e){var n=PRESSTAKE_BANNER_CORE.MODELS.CONFIG_MODEL;if(e){for(var t in e)if("object"==typeof e[t])for(var a in e[t])PRESSTAKE_BANNER_CORE.CONFIG[t][a]=e[t][a];else PRESSTAKE_BANNER_CORE.CONFIG[t]=e[t];e=PRESSTAKE_BANNER_CORE.CONFIG}else var e=PRESSTAKE_BANNER_CORE.CONFIG;return e.location=window.location.href,e.URL.PROTOCOL=n.getProtocol(),e.clientOS=n.getClientOS(),n.getDeviceType(),n.getDeviceOrientation(),n.getScroll(e),n.getZoom(e),n.getBannerLeft(),n.getBannerBottom(),!!n.getDOMConfig(e)}},LOAD_CONTROLLER:{loadPage:function(e){var n=PRESSTAKE_BANNER_CORE.MODELS.AJAX_MODEL,t=PRESSTAKE_BANNER_CORE.MODELS.REQUEST_MODEL,a=PRESSTAKE_BANNER_CORE.MODELS.URL_BUILDER_MODEL;if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;var o=function(){n.repeater(e,n.request,a.getCheckLoadingUrl(e),t.loadingPageSuccess)};n.request(a.getCheckLoadingUrl(e),t.loadingPageSuccess,o)},loadAppList:function(e){var n=PRESSTAKE_BANNER_CORE.MODELS.AJAX_MODEL,t=PRESSTAKE_BANNER_CORE.MODELS.REQUEST_MODEL,a=PRESSTAKE_BANNER_CORE.MODELS.URL_BUILDER_MODEL;if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;var o=function(){n.repeater(e,n.request,a.getLoadListUrl(e),t.loadAppListSuccess)};n.request(a.getLoadListUrl(e),t.loadAppListSuccess,o)}},VIEW_CONTROLLER:{create_banner:function(e){var n=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;n.create_banner()},createCss:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.URL_BUILDER_MODEL,n=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL,t=PRESSTAKE_BANNER_CORE.CONFIG,a=e.getCSSUrl(t);n.createCss(a)},showBanner:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.showBanner()},hideBanner:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.hideBanner()},openList:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.openList()},closeList:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.closeList()},addBannerMainFirstEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.addBannerMainClickEvent(e.bannerMainClickFirstEvent)},removeBannerMainFirstEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.removeBannerMainClickEvent(e.bannerMainClickFirstEvent)},addBannerMainSecondEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.addBannerMainClickEvent(e.bannerMainClickSecondEvent)},removeBannerMainSecondEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.removeBannerMainClickEvent(e.bannerMainClickSecondEvent)},addBannerMainCloseButtonEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.addBannerMainCloseButtonEvent(e.bannerMainCloseButtonEvent)},removeBannerMainCloseButtonEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.removeBannerMainCloseButtonEvent(e.bannerMainCloseButtonEvent)},addBannerListCloseButtonEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.addBannerListCloseButtonEvent(e.bannerListCloseButtonEvent)},addBannerListScrollEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.addBannerListScrollEvent(e.bannerListScrollEvent)},addBannerListTouchStartEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.addBannerListTouchStartEvent(e.bannerListTouchStartEvent)},addBannerListTouchMoveEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.addBannerListTouchMoveEvent(e.bannerListTouchMoveEvent)},addBannerListMouseDownEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.addBannerListMouseDownEvent(e.bannerListMouseDownEvent)},addDocumentMouseUpEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.addDocumentMouseUpEvent(e.documentMouseUpEvent)},addDocumentMouseMoveEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.addDocumentMouseMoveEvent(e.documentMouseMoveEvent)},removeBannerListTouchMoveEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.removeBannerListTouchMoveEvent(e.bannerListTouchMoveEvent)},removeBannerListTouchStartEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.removeBannerListTouchStartEvent(e.bannerListTouchStartEvent)},removeBannerListMouseDownEvenet:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.removeBannerListMouseDownEvenet(e.bannerListMouseDownEvent)},removeDocumentMouseMoveEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.removeDocumentMouseMoveEvent(e.documentMouseMoveEvent)},removeDocumentMouseUpEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.removeDocumentMouseUpEvent(e.documentMouseUpEvent)},removeBannerListScrollEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.removeBannerListScrollEvent(e.bannerListScrollEvent)},removeBannerListCloseButtonEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL;e.removeBannerListCloseButtonEvent(e.bannerListCloseButtonEvent)},addWindowScrollEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL,n=PRESSTAKE_BANNER_CORE.MODELS.CONFIG_MODEL;e.addWindowScrollEvent(n.getScroll),e.addWindowScrollEvent(e.scrollEvent)},addWindowScrollLeftEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL,n=PRESSTAKE_BANNER_CORE.MODELS.CONFIG_MODEL;e.addWindowScrollEvent(n.getBannerLeft),e.addWindowScrollEvent(e.scrollLeftEvent)},removeWindowScrollEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL,n=PRESSTAKE_BANNER_CORE.MODELS.CONFIG_MODEL;e.removeWindowScrollEvent(e.scrollEvent),e.removeWindowScrollEvent(n.getScroll)},addWindowZoomEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL,n=PRESSTAKE_BANNER_CORE.MODELS.CONFIG_MODEL;e.addWindowZoomEvent(n.getZoom),e.addWindowZoomEvent(n.getBannerLeft),e.addWindowZoomEvent(n.getBannerBottom),e.addWindowZoomEvent(n.getDeviceOrientation),e.addWindowZoomEvent(e.zoomEvent)},removeWindowZoomEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.VIEW_MODEL,n=PRESSTAKE_BANNER_CORE.MODELS.CONFIG_MODEL;e.removeWindowZoomEvent(n.getZoom),e.removeWindowZoomEvent(n.getBannerBottom),e.removeWindowZoomEvent(n.getBannerLeft),e.removeWindowZoomEvent(n.getDeviceOrientation),e.removeWindowZoomEvent(e.zoomEvent)}},EVENT_CONTROLLER:{showBannerEvent:function(){var e=PRESSTAKE_BANNER_CORE.CONTROLLERS.VIEW_CONTROLLER,n=PRESSTAKE_BANNER_CORE.MODELS.AJAX_MODEL,t=PRESSTAKE_BANNER_CORE.MODELS.REQUEST_MODEL,a=PRESSTAKE_BANNER_CORE.MODELS.URL_BUILDER_MODEL,o=PRESSTAKE_BANNER_CORE.CONFIG,r=a.getStatUrl_BannerVisible(o),E=function(){n.repeater(o,n.request,r,t.statBannerSuccess)};e.removeWindowScrollEvent(),n.request(r,t.statBannerSuccess,E)},bannerMainClickFirst:function(){var e=PRESSTAKE_BANNER_CORE.CONTROLLERS.VIEW_CONTROLLER;e.removeBannerMainFirstEvent(),e.addBannerMainSecondEvent()},bannerMainClickSecond:function(){var e=PRESSTAKE_BANNER_CORE.CONTROLLERS.VIEW_CONTROLLER;e.removeBannerMainSecondEvent(),e.addBannerMainFirstEvent()},hideBannerEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.AJAX_MODEL,n=PRESSTAKE_BANNER_CORE.MODELS.REQUEST_MODEL,t=PRESSTAKE_BANNER_CORE.MODELS.URL_BUILDER_MODEL,a=PRESSTAKE_BANNER_CORE.CONFIG,o=t.getStatUrl_BannerUnvisible(a),r=function(){e.repeater(a,e.request,o,n.statBannerSuccess)};e.request(o,n.statBannerSuccess,r)},openBannerEvent:function(){var e=PRESSTAKE_BANNER_CORE.MODELS.AJAX_MODEL,n=PRESSTAKE_BANNER_CORE.MODELS.URL_BUILDER_MODEL,t=PRESSTAKE_BANNER_CORE.MODELS.REQUEST_MODEL,a=PRESSTAKE_BANNER_CORE.CONFIG,o=n.getStatUrl_BannerOpen(a),r=function(){e.repeater(a,e.request,o,t.statBannerSuccess)};e.request(o,t.statBannerSuccess,r)}}},MODELS:{REQUEST_MODEL:{loadingPageSuccess:function(e,n){var t=PRESSTAKE_BANNER_CORE.CONFIG;if(1==t.debag)var a=t.debagList;n?clearInterval(n):a&&a.push("2"),e?(e.page?t.pageID=e.page:a&&a.push("3"),e.banId?t.ovid=e.banId:a&&a.push("4")):a&&a.push("1"),t.pageStatus=1,PRESSTAKE_BANNER_CORE.CONTROLLERS.LOAD_CONTROLLER.loadAppList()},loadAppListSuccess:function(e,n){var t=PRESSTAKE_BANNER_CORE.CONFIG,a=PRESSTAKE_BANNER_CORE.MODELS.URL_BUILDER_MODEL;if(t.appListStatus=1,1==t.debag)var o=t.debagList;n?clearInterval(n):o&&o.push("5"),e?e.data?e.data.map(function(e,n){o&&(t.clientID||o.push("8"),t.bannerID||o.push("9"),t.pageID||o.push("10"),e.sitid||o.push("11("+n+")"),t.ovid||o.push("12"),t.URL||o.push("13")),e.link=a.getTrackingUrl({clientID:t.clientID,bannerID:t.bannerID,pageID:t.pageID,sitID:e.sitid,id:e.id,ovid:t.ovid,URL:t.URL})}):o&&o.push("7"):o&&o.push("6"),t.appList=e,PRESSTAKE_BANNER_CORE.CONTROLLERS.INIT_CONTROLLER.init_content()},statBannerSuccess:function(e,n){var t=PRESSTAKE_BANNER_CORE.CONFIG,a=t.debag;if(1==a)var o=t.debagList;n?clearInterval(n):o&&o.push("14"),!e&&o&&o.push("15")}},URL_BUILDER_MODEL:{getCSSUrl:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;return e.URL?(!e.URL.TARGET_URL&&n&&n.push("17"),!e.URL.CSS_URL&&n&&n.push("18")):n&&n.push("16"),e.URL.PROTOCOL+e.URL.TARGET_URL+e.URL.CSS_URL},getParseUrl:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.clientID&&n&&n.push("19"),!e.bannerID&&n&&n.push("20"),!e.location&&n&&n.push("21");var t="?clid="+encodeURIComponent(e.clientID)+"&bid="+encodeURIComponent(e.bannerID)+"&loc="+encodeURIComponent(e.location)+"&action=pgst";return e.URL.PROTOCOL+e.URL.TARGET_URL+e.URL.PASRSE_URL+t},getStatUrl_BannerVisible:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.clientID&&n&&n.push("22"),!e.bannerID&&n&&n.push("23"),!e.pageID&&n&&n.push("24"),!e.ovid&&n&&n.push("25");var t="?clid="+encodeURIComponent(e.clientID)+"&bid="+encodeURIComponent(e.bannerID)+"&pgid="+encodeURIComponent(e.pageID)+"&ovid="+encodeURIComponent(e.ovid)+"&action=vis";return e.URL.PROTOCOL+e.URL.TARGET_URL+e.URL.STAT_URL+t},getStatUrl_BannerOpen:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.clientID&&n&&n.push("26"),!e.bannerID&&n&&n.push("27"),!e.pageID&&n&&n.push("28"),!e.ovid&&n&&n.push("29");var t="?clid="+encodeURIComponent(e.clientID)+"&bid="+encodeURIComponent(e.bannerID)+"&pgid="+encodeURIComponent(e.pageID)+"&ovid="+encodeURIComponent(e.ovid);return e.URL.PROTOCOL+e.URL.TARGET_URL+e.URL.STAT_URL+t},getStatUrl_BannerUnvisible:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.clientID&&n&&n.push("30"),!e.bannerID&&n&&n.push("31"),!e.pageID&&n&&n.push("32"),!e.ovid&&n&&n.push("33");var t="?clid="+encodeURIComponent(e.clientID)+"&bid="+encodeURIComponent(e.bannerID)+"&pgid="+encodeURIComponent(e.pageID)+"&ovid="+encodeURIComponent(e.ovid)+"&action=cl";return e.URL.PROTOCOL+e.URL.TARGET_URL+e.URL.STAT_URL+t},getTrackingUrl:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.clientID&&n&&n.push("34"),!e.bannerID&&n&&n.push("35"),!e.pageID&&n&&n.push("36"),!e.sitID&&n&&n.push("37"),!e.ovid&&n&&n.push("38");var t="?clid="+encodeURIComponent(e.clientID)+"&bid="+encodeURIComponent(e.bannerID)+"&pgid="+encodeURIComponent(e.pageID)+"&item="+encodeURIComponent(e.sitID)+"&ovid="+encodeURIComponent(e.ovid);return e.URL.PROTOCOL+e.URL.TARGET_URL+e.URL.TRACKING_URL+t},getCheckLoadingUrl:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.clientID&&n&&n.push("39"),!e.bannerID&&n&&n.push("40"),!e.location&&n&&n.push("41");var t="?clid="+encodeURIComponent(e.clientID)+"&bid="+encodeURIComponent(e.bannerID)+"&loc="+encodeURIComponent(e.location)+"&action=pgst";return e.URL.PROTOCOL+e.URL.TARGET_URL+e.URL.PASRSE_URL+t},getLoadListUrl:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.clientID&&n&&n.push("42"),!e.bannerID&&n&&n.push("43"),!e.pageID&&n&&n.push("44"),!e.clientOS&&n&&n.push("45"),!e.ovid&&n&&n.push("46");var t="?clid="+encodeURIComponent(e.clientID)+"&bid="+encodeURIComponent(e.bannerID)+"&pgid="+encodeURIComponent(e.pageID)+"&os="+encodeURIComponent(e.clientOS)+"&banid="+encodeURIComponent(e.ovid);return e.URL.PROTOCOL+e.URL.TARGET_URL+e.URL.APPS_URL+t},getSubscribeUrl:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.ID&&n&&n.push("47"),!e.ovid&&n&&n.push("48"),!e.email&&n&&n.push("49"),!e.clientOS&&n&&n.push("50");var t="?id="+encodeURIComponent(e.ID)+"&banid="+encodeURIComponent(e.ovid)+"&email="+encodeURIComponent(e.email)+"&os="+encodeURIComponent(e.clientOS)+"&action=sb";return e.URL.PROTOCOL+e.URL.TARGET_URL+e.URL.SUBSCRIBE_URL+t},getUnsubscribeUrl:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.ID&&n&&n.push("51"),!e.ovid&&n&&n.push("52"),!e.email&&n&&n.push("53"),!e.clientOS&&n&&n.push("54");var t="?id="+encodeURIComponent(e.ID)+"&banid="+encodeURIComponent(e.ovid)+"&email="+encodeURIComponent(e.email)+"&os="+encodeURIComponent(e.clientOS)+"&action=unsb";return e.URL.PROTOCOL+e.URL.TARGET_URL+e.URL.SUBSCRIBE_URL+t}},AJAX_MODEL:{request:function(e,n,t,a){var o=new XMLHttpRequest,r=PRESSTAKE_BANNER_CORE.CONFIG;if(1==r.debag)var E=r.debagList;!o&&E&&E.push("55"),!e&&E&&E.push("57"),!n&&E&&E.push("58"),!t&&E&&E.push("59"),!a&&E&&E.push("60"),o.open("GET",e,!0),o.onreadystatechange=function(){if(4!=o.readyState)return!1;if(200==o.status&&n){var e=JSON.parse(o.responseText);!e&&E&&E.push("56"),e.hasOwnProperty("status")||e.hasOwnProperty("requestStatus")?(e.hasOwnProperty("status")||(e.status=e.requestStatus),e.status==r.status.STATUS_OK?n(e,a):t&&t()):n(e,a)}else t&&t()},o.send()},repeater:function(e,n,t,a,o){var r=e.debag||PRESSTAKE_BANNER_CORE.CONFIG.debag;if(1==r)var E=e.debagList||PRESSTAKE_BANNER_CORE.CONFIG.debagList;!n&&E&&E.push("61"),!a&&E&&E.push("62"),!o&&E&&E.push("63"),!t&&E&&E.push("64");var i=setInterval(function(){this.tick?this.tick++:this.tick=1,!e.repeatCounter&&E&&E.push("65("+i+", "+this.tick+")"),!t&&E&&E.push("66("+i+", "+this.tick+")"),!a&&E&&E.push("67("+i+", "+this.tick+")"),!o&&E&&E.push("68("+i+", "+this.tick+")"),!e.repeatTimeout&&E&&E.push("69("+i+", "+this.tick+")"),n(t,a,o,i),this.tick>=e.repeatCounter&&clearInterval(i)}.bind(new Object),e.repeatTimeout);return i}},CONFIG_MODEL:{getProtocol:function(){var e=document.location.protocol,n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;return!e&&t&&t.push("70"),"https:"===e?"https://":"http://"},getClientOS:function(){var e=navigator.userAgent,n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;return!e&&t&&t.push("71"),e.match(/Android/i)?"android":e.match(/iPhone|iPad|iPod/i)?"ios":"other"},getDOMConfig:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.loaderID&&n&&n.push("72");var t=document.getElementById(e.loaderID);return!t&&n&&n.push("73"),!t.getAttribute("data-bid")&&n&&n.push("74"),!t.getAttribute("data-clid")&&n&&n.push("75"),e.bannerID=t.getAttribute("data-bid"),e.clientID=t.getAttribute("data-clid"),!0},getScroll:function(){var e=PRESSTAKE_BANNER_CORE.CONFIG,n=window.scrollY,t=Math.max(document.documentElement.clientHeight,document.body.clientHeight),a=document.documentElement.scrollHeight,o=100*n/t;if(1==e.debag)var r=e.debagList;void 0==n&&r&&r.push("76"),void 0==t&&r&&r.push("77"),void 0==a&&r&&r.push("78"),0==o&&a<=window.innerHeight&&(o=100),e.scroll=o},getZoom:function(){var e=PRESSTAKE_BANNER_CORE.CONFIG,n=window.innerWidth;if(1==e.debag)var t=e.debagList;void 0==n&&t&&t.push("79"),"landscape"==e.deviceOrientation?e.zoom=n/3/700:e.zoom=n/700},getBannerLeft:function(){var e=PRESSTAKE_BANNER_CORE.CONFIG,n=document.documentElement.clientWidth,t=window.scrollX;if(1==e.debag)var a=e.debagList;void 0==n&&a&&a.push("80"),void 0==t&&a&&a.push("81"),"ios"!=e.clientOS?e.bannerLeft=100*t/n:e.bannerLeft=0},getBannerBottom:function(){var e=PRESSTAKE_BANNER_CORE.CONFIG;document.body.clientHeight,window.scrollY;e.bannerBottom=0},getDeviceOrientation:function(){var e=PRESSTAKE_BANNER_CORE.CONFIG,n=window.innerWidth,t=window.innerHeight;t/n>1?e.deviceOrientation="portrait":e.deviceOrientation="landscape"},getDeviceType:function(){var e=PRESSTAKE_BANNER_CORE.CONFIG,n=window.navigator.userAgent.toLowerCase(),t=function(e){return n.indexOf(e)!==-1},a={fxos:function(){return(t("(mobile;")||t("(tablet;"))&&t("; rv:")},blackberry:function(){return t("blackberry")||t("bb10")||t("rim")},windows:function(){return t("windows")},android:function(){return!a.windows()&&t("android")},fxosTablet:function(){return a.fxos()&&t("tablet")},windowsTablet:function(){return a.windows()&&t("touch")&&!a.windowsPhone()},blackberryTablet:function(){return a.blackberry()&&t("tablet")},androidTablet:function(){return a.android()&&!t("mobile")},ipad:function(){return t("ipad")},meego:function(){return t("meego")},fxosPhone:function(){return a.fxos()&&t("mobile")},blackberryPhone:function(){return a.blackberry()&&!t("tablet")},windowsPhone:function(){return a.windows()&&t("phone")},ipod:function(){return t("ipod")},iphone:function(){return!a.windows()&&t("iphone")},androidPhone:function(){return a.android()&&t("mobile")},mobile:function(){return a.androidPhone()||a.iphone()||a.ipod()||a.windowsPhone()||a.blackberryPhone()||a.fxosPhone()||a.meego()},tablet:function(){return a.ipad()||a.androidTablet()||a.blackberryTablet()||a.windowsTablet()||a.fxosTablet()},desktop:function(){return!a.tablet()&&!a.mobile()}};if(1==e.debag)var o=e.debagList;!n&&o&&o.push("129"),a.desktop()?e.device="desktop":a.tablet()?e.device="tablet":a.mobile()?e.device="mobile":e.device="other"}},VIEW_MODEL:{create_banner:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;var t=e.appList,a=document.createElement("noindex"),o=document.createElement("div"),r=document.createElement("div"),E=document.createElement("div"),i=document.createElement("div"),d=document.createElement("input"),s=document.createElement("div"),c=document.createElement("div"),R=document.createElement("div"),l=document.createElement("div"),p=document.createElement("div"),u=document.createElement("a"),v=document.createElement("div"),L=document.createElement("div"),S=document.createElement("div"),O=document.createElement("a");if(!t&&n&&n.push("82"),a.classList.add("pt-banner"),a.id=e.bannerSpaceID,void 0==e.bannerSpaceID&&n&&n.push("83"),o.classList.add("pt-banner-main"),o.id="pt-banner-main",E.classList.add("pt-banner-logo-wrapper"),i.classList.add("pt-banner-text-wrapper"),R.classList.add("pt-banner-text-top"),l.classList.add("pt-banner-text-top-open"),p.classList.add("pt-banner-text-middle"),u.classList.add("pt-banner-text-middle-open"),v.classList.add("pt-banner-text-bottom"),O.classList.add("pt-banner-text-bottom__colored"),S.classList.add("pt-banner-link"),d.classList.add("pt-banner-close"),d.id="pt-banner-close_banner",r.classList.add("pt-banner-list-wrapper"),s.classList.add("pt-banner-close"),s.id="pt-banner-close__list",c.classList.add("pt-banner-list-scroll-wrapper"),c.id="pt-banner-scroll",L.classList.add("pt-banner-list"),!e.bannerClasses&&n&&n.push("84"),void 0==t.templateType&&(t.templateType=0),void 0==t.templateType&&n&&n.push("85"),a.classList.add(e.bannerClasses[t.templateType]),R.innerHTML="Лучшие цены в он-лайн магазинах",l.innerHTML="Посмотреть больше предложений",0==t.templateType||5==t.templateType||2==t.templateType?p.innerHTML="Где купить товары из этой статьи?":1==t.templateType?p.innerHTML="Где купить или скачать книгу из этой статьи?":3==t.templateType?p.innerHTML="Где посмотреть фильм из этой статьи?":4==t.templateType&&(p.innerHTML="Где скачать приложение из этой статьи?"),u.href="http://www.presstake.com/landing/",u.innerHTML="PressTake.com",v.innerHTML="powered by",O.innerHTML="PressTake",O.href="http://www.presstake.com/landing/",S.innerHTML="Узнать!",v.appendChild(O),i.appendChild(R),i.appendChild(l),i.appendChild(p),i.appendChild(u),i.appendChild(v),o.appendChild(E),o.appendChild(i),o.appendChild(S),o.appendChild(d),!t.data&&n&&n.push("86"),t.data.map(function(e,t){var a=document.createElement("div"),o=document.createElement("a"),r=document.createElement("div"),E=document.createElement("div"),i=document.createElement("img"),d=document.createElement("a"),s=document.createElement("a");if(a.classList.add("pt-banner-list-item"),o.classList.add("pt-banner-list-image-wrapper"),!e.link&&n&&n.push("87("+t+")"),o.href=e.link,i.classList.add("pt-banner-list-image"),d.classList.add("pt-banner-list-link"),r.classList.add("pt-banner-item-title"),E.classList.add("pt-banner-item-price"),s.classList.add("pt-banner-item-shop_button"),!e.itarget&&n&&n.push("88("+t+")"),1==e.itarget.google_play?s.classList.add("pt-banner-item-shop_button__google"):1==e.itarget.appstore?s.classList.add("pt-banner-item-shop_button__apple"):s.innerHTML="В магазин",!e.image&&n&&n.push("89("+t+")"),i.src=e.image,i.alt="",d.href=e.link,!e.linkName&&n&&n.push("90("+t+")"),e.hasOwnProperty("linkName")&&(d.innerHTML=e.linkName),!e.name&&n&&n.push("91("+t+")"),r.innerHTML=e.name,void 0==e.price&&n&&n.push("92("+t+")"),E.innerHTML=e.price,s.href=e.link,o.appendChild(i),!e.hasOwnProperty("alternativeText")&&n&&n.push("93("+t+")"),e.hasOwnProperty("alternativeText")){var c=document.createElement("div"),R=document.createElement("div"),l=document.createElement("div");a.classList.add("pt-banner-list-item__alternative"),c.classList.add("pt-banner-alternative_text"),R.classList.add("pt-banner-alternative_text-top"),l.classList.add("pt-banner-alternative_text-bottom"),void 0==e.alternativeText.top&&n&&n.push("94("+t+")"),void 0==e.alternativeText.bottom&&n&&n.push("95("+t+")"),R.innerHTML=e.alternativeText.top,l.innerHTML=e.alternativeText.bottom,c.appendChild(R),c.appendChild(l),a.appendChild(c)}if(a.appendChild(o),a.appendChild(d),a.appendChild(r),!e.hasOwnProperty("description")&&n&&n.push("96("+t+")"),e.hasOwnProperty("description")){var p=document.createElement("div");p.classList.add("pt-banner-item-description"),p.innerHTML=e.description,a.appendChild(p)}a.appendChild(E),a.appendChild(s),L.appendChild(a)}),c.appendChild(L),2==t.templateType||5==t.templateType||0==t.templateType){var _=document.createElement("div"),m=document.createElement("div"),N=document.createElement("div"),C=document.createElement("div"),b=document.createElement("div"),T=document.createElement("a"),A=document.createElement("select");_.classList.add("pt-banner-list-header"),m.classList.add("pt-banner-list-header-selector-wrapper"),N.classList.add("pt-banner-list-header-description"),A.classList.add("pt-banner-list-header-selector"),A.id="pt-banner-selector",C.classList.add("pt-banner-list-header-source-wrapper"),b.classList.add("pt-banner-list-header-source-before"),T.classList.add("pt-banner-list-header-source-after"),N.innerHTML="Актуально для ",b.innerHTML="По данным",!t.shipperName&&n&&n.push("97"),t.hasOwnProperty("shipperName")||(t.shipperName="Яндекс.Маркет"),T.innerHTML=t.shipperName,T.href="https://market.yandex.ru";var h=document.createElement("option");h.classList.add("pt-banner-list-header-selector-option"),h.setAttribute("selected",""),!t.hasOwnProperty("geo")&&n&&n.push("98"),t.hasOwnProperty("geo")||(t.geo={name:"Москва"}),h.innerHTML=t.geo.name,A.appendChild(h),!t.hasOwnProperty("cities")&&n&&n.push("99"),t.hasOwnProperty("cities")&&t.cities.map(function(e,t){var a=document.createElement("option");void 0==e.id&&n&&n.push("100("+t+")"),!e.name&&n&&n.push("101("+t+")"),a.classList.add("pt-banner-list-header-selector-option"),a.setAttribute("data-cityID",e.id),a.innerHTML=e.name,A.appendChild(a)}),m.appendChild(N),m.appendChild(A),C.appendChild(b),C.appendChild(T),_.appendChild(m),_.appendChild(C),r.appendChild(_)}r.appendChild(s),r.appendChild(c),a.appendChild(r),a.appendChild(o),document.body.appendChild(a)},createCss:function(e){var n=document.createElement("link"),t=document.head,a=PRESSTAKE_BANNER_CORE.CONFIG;if(1==a.debag)var o=a.debagList;n.rel="stylesheet",!e&&o&&o.push("102"),n.href=e,t.appendChild(n)},showBanner:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.bannerSpaceID&&n&&n.push("103");var t=document.getElementById(e.bannerSpaceID);t.classList.add("pt-banner-show"),PRESSTAKE_BANNER_CORE.CONTROLLERS.EVENT_CONTROLLER.showBannerEvent()},hideBanner:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.bannerSpaceID&&n&&n.push("104");var t=document.getElementById(e.bannerSpaceID);t.classList.remove("pt-banner-show"),PRESSTAKE_BANNER_CORE.CONTROLLERS.EVENT_CONTROLLER.hideBannerEvent()},openList:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.bannerSpaceID&&n&&n.push("105");var t=document.getElementById(e.bannerSpaceID);t.classList.add("pt-banner-open"),PRESSTAKE_BANNER_CORE.CONTROLLERS.EVENT_CONTROLLER.bannerMainClickFirst(),PRESSTAKE_BANNER_CORE.CONTROLLERS.EVENT_CONTROLLER.openBannerEvent()},closeList:function(e){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;!e.bannerSpaceID&&n&&n.push("106");var t=document.getElementById(e.bannerSpaceID);t.classList.remove("pt-banner-open"),PRESSTAKE_BANNER_CORE.CONTROLLERS.EVENT_CONTROLLER.bannerMainClickSecond()},scrollEvent:function(){if(!e)var e=PRESSTAKE_BANNER_CORE.CONFIG;if(1==e.debag)var n=e.debagList;void 0==e.scroll&&n&&n.push("107"),!e.clientOS&&n&&n.push("108"),e.scroll>20&&PRESSTAKE_BANNER_CORE.CONTROLLERS.VIEW_CONTROLLER.showBanner()},scrollLeftEvent:function(){var e=PRESSTAKE_BANNER_CORE.CONFIG,n=document.getElementById(e.bannerSpaceID);if(1==e.debag)var t=e.debagList;void 0==e.bannerLeft&&t&&t.push("127"),!n&&t&&t.push("128"),window.innerWidth<700&&(n.style.left=e.bannerLeft+"%")},zoomEvent:function(e){var e=PRESSTAKE_BANNER_CORE.CONFIG,n=document.getElementById(e.bannerSpaceID);window.innerWidth;if(1==e.debag)var t=e.debagList;void 0==e.zoom&&t&&t.push("109"),void 0==e.bannerLeft&&t&&t.push("110"),void 0==e.bannerBottom&&t&&t.push("111"),n.style.left=e.bannerLeft+"%",n.style.transform="scale("+e.zoom+")",n.style.webkitTransform="scale("+e.zoom+")",n.style.mozTransform="scale("+e.zoom+")",n.style.msTransform="scale("+e.zoom+")",n.style.oTransform="scale("+e.zoom+")"},bannerMainClickFirstEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;e=e||window.event,!e&&t&&t.push("112");var a=e.target||e.srcElement;!a&&t&&t.push("113"),!a.id&&t&&t.push("114"),a.id&&"pt-banner-close_banner"==a.id||PRESSTAKE_BANNER_CORE.CONTROLLERS.VIEW_CONTROLLER.openList()},bannerMainClickSecondEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;e=e||window.event;var a=e.target||e.srcElement;!a&&t&&t.push("115"),!a.id&&t&&t.push("116"),a.id&&"pt-banner-close_banner"==a.id||PRESSTAKE_BANNER_CORE.CONTROLLERS.VIEW_CONTROLLER.closeList()},bannerMainCloseButtonEvent:function(){PRESSTAKE_BANNER_CORE.CONTROLLERS.VIEW_CONTROLLER.hideBanner()},bannerListCloseButtonEvent:function(){PRESSTAKE_BANNER_CORE.CONTROLLERS.VIEW_CONTROLLER.closeList()},bannerListScrollEvent:function(e){e=e||window.event;var n=document.getElementById("pt-banner-scroll");n.scrollLeft+=e.deltaY},bannerListTouchStartEvent:function(e){e=e||window.event;var n=document.getElementById("pt-banner-scroll");n.hasOwnProperty("scrollProp")?n.scrollProp.x=e.targetTouches[0].clientX:n.scrollProp={x:e.targetTouches[0].clientX}},bannerListTouchMoveEvent:function(e){e=e||window.event;var n=document.getElementById("pt-banner-scroll"),t=e.targetTouches[0].clientX-n.scrollProp.x;t=-1*t*2,Math.abs(t)<5&&(t=t<0?-20:20),n.scrollLeft+=t,n.scrollProp.x=e.targetTouches[0].clientX,e.preventDefault?e.preventDefault():e.returnValue=!1},bannerListMouseDownEvent:function(e){e=e||window.event;var n=document.getElementById("pt-banner-scroll");n.hasOwnProperty("scrollProp")?(n.scrollProp.x=e.clientX,n.scrollProp.mousedown=!0):n.scrollProp={x:e.clientX,mousedown:!0},e.preventDefault?e.preventDefault():e.returnValue=!1},documentMouseMoveEvent:function(e){e=e||window.event;var n=document.getElementById("pt-banner-scroll");if(n.hasOwnProperty("scrollProp")&&n.scrollProp.hasOwnProperty("mousedown")&&n.scrollProp.mousedown){var t=e.clientX-n.scrollProp.x;Math.abs(t)>0&&(t=-1*t*2,Math.abs(t)<5&&(t=Math.sign(t)<0?-20:20)),n.scrollLeft+=t,n.scrollProp.x=e.clientX}e.preventDefault?e.preventDefault():e.returnValue=!1},documentMouseUpEvent:function(e){e=e||window.event;var n=document.getElementById("pt-banner-scroll");n.hasOwnProperty("scrollProp")&&(n.scrollProp.mousedown=!1)},addBannerListMouseDownEvent:function(e){var n=document.getElementById("pt-banner-scroll");n.addEventListener("mousedown",e,!0)},addDocumentMouseUpEvent:function(e){document.addEventListener("mouseup",e,!0)},addDocumentMouseMoveEvent:function(e){document.addEventListener("mousemove",e,!0)},addBannerListTouchStartEvent:function(e){var n=document.getElementById("pt-banner-scroll");n.addEventListener("touchstart",e,!0)},addBannerListTouchMoveEvent:function(e){var n=document.getElementById("pt-banner-scroll");n.addEventListener("touchmove",e,!0)},addWindowScrollEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;!e&&t&&t.push("117"),window.addEventListener("scroll",e)},addWindowZoomEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;!e&&t&&t.push("118"),window.addEventListener("resize",e),window.addEventListener("touchmove",e)},addBannerMainClickEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;!e&&t&&t.push("119");var a=document.getElementById("pt-banner-main");a.addEventListener("click",e)},addBannerMainCloseButtonEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;!e&&t&&t.push("120");var a=document.getElementById("pt-banner-close_banner");a.addEventListener("click",e)},addBannerListCloseButtonEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;!e&&t&&t.push("121");var a=document.getElementById("pt-banner-close__list");a.addEventListener("click",e)},addBannerListScrollEvent:function(e){var n=document.getElementById("pt-banner-scroll");n.addEventListener("wheel",e)},removeBannerListTouchStartEvent:function(e){var n=document.getElementById("pt-banner-scroll");n.removeEventListener("touchstart",e)},removeBannerListTouchMoveEvent:function(e){var n=document.getElementById("pt-banner-scroll");n.removeEventListener("touchmove",e)},removeBannerListMouseDownEvenet:function(e){var n=document.getElementById("pt-banner-scroll");n.removeEventListener("mousedown",e)},removeDocumentMouseUpEvent:function(e){document.removeEventListener("mouseup",e)},removeDocumentMouseMoveEvent:function(e){document.removeEventListener("mousemove",e);
},removeBannerListScrollEvent:function(e){var n=document.getElementById("pt-banner-scroll");n.removeEventListener("wheel",e)},removeWindowScrollEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;!e&&t&&t.push("122"),window.removeEventListener("scroll",e)},removeWindowZoomEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;!e&&t&&t.push("123"),window.removeEventListener("resize",e),window.removeEventListener("touchmove",e)},removeBannerMainClickEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;!e&&t&&t.push("124");var a=document.getElementById("pt-banner-main");a.removeEventListener("click",e)},removeBannerMainCloseButtonEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;!e&&t&&t.push("125");var a=document.getElementById("pt-banner-close_banner");a.removeEventListener("click",e)},removeBannerListCloseButtonEvent:function(e){var n=PRESSTAKE_BANNER_CORE.CONFIG;if(1==n.debag)var t=n.debagList;!e&&t&&t.push("126");var a=document.getElementById("pt-banner-close__list");a.removeEventListener("click",e)}}}};PRESSTAKE_BANNER_CORE.init({URL:{TARGET_URL:window.location.host+window.location.pathname,PASRSE_URL:"requests/parse",APPS_URL:"requests/gadgets",STAT_URL:"requests/stat",TRACKING_URL:"requests/track",CSS_URL:"css/style.css"}});